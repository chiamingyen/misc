

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The Leo Tutorial &mdash; Leo 4.9 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '4.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="top" title="Leo 4.9 documentation" href="index.html" />
    <link rel="next" title="Using Leo" href="commands.html" />
    <link rel="prev" title="Installing Leo" href="installing.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="commands.html" title="Using Leo"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installing.html" title="Installing Leo"
             accesskey="P">previous</a> |</li>
        <li><a href="leo_toc.html">Leo 4.9 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="the-leo-tutorial">
<h1><a class="toc-backref" href="#id1">The Leo Tutorial</a><a class="headerlink" href="#the-leo-tutorial" title="Permalink to this headline">¶</a></h1>
<p id="index-0">Leo is a power tool for people who want to organize, study and work with data,
especially complex data like computer programs, books, web sites and data bases.
Superficially, Leo may look like other outlining programs, code folding editors
or class browsers, but it most certainly is not.</p>
<p>People say Leo is a revolutionary tool, and that Leo is fun to use, even
addictive. There is a unique &#8220;Leo way&#8221; of managing data; the term <strong>Leonine</strong>
describes how people treat data in &#8220;the world according to Leo&#8221;. Leo definitely
takes a bit of work to understand. Leo&#8217;s users speak of an &#8220;Aha&#8221; moment, when
they see how these pieces fit together: outline structure is significant
everywhere.  For a more detailed introduction to Leo, see <a class="reference external" href="nutshell.html">Leo in a nutshell</a>.</p>
<p>Leo is freely available in source or binary form for all major platforms. You
may download Leo from <a class="reference external" href="http://sourceforge.net/projects/leo/files/Leo/">http://sourceforge.net/projects/leo/files/Leo/</a> Leo is Open
Software and may be freely distributed.</p>
<p><a class="reference external" href="http://webpages.charter.net/edreamleo/front.html">Leo&#8217;s home page</a> contains additional documentation and links to other
resources. For another introduction to Leo, open the file quickstart.leo in the
leo/doc folder.</p>
<p>This tutorial introduces the reader to the basic concepts and features of Leo.
It helps to have Leo running for hands-on experience, but all examples here are
self-contained, so the tutorial can be read off-line as well.
See <a class="reference external" href="installing.html">Leo&#8217;s Installation Guide</a>. for detailed installation instructions. If you
have problems installing Leo, please ask for help on <a class="reference external" href="http://groups.google.com/group/leo-editor">Leo&#8217;s forum</a>.</p>
<p>This tutorial does not attempt to be comprehensive and cover every single
feature of Leo, or even every commonly used feature. Instead, it introduces many
of Leo&#8217;s most noteworthy features, and will give you a good idea of Leo&#8217;s flavor
and style. After reading it, you will be able to use Leo in basic ways to create
external files, organize data and run simple scripts. You will then be ready to
learn more about Leo&#8217;s many advanced features.</p>
<p>The <a class="reference external" href="genindex.html">Glossary</a> is also worth reading.</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#the-leo-tutorial" id="id1">The Leo Tutorial</a><ul>
<li><a class="reference internal" href="#leo-s-main-window" id="id2">Leo&#8217;s main window</a></li>
<li><a class="reference internal" href="#external-files-and-file-nodes" id="id3">External files and &#64;file nodes</a></li>
<li><a class="reference internal" href="#creating-external-files-from-outlines" id="id4">Creating external files from outlines</a><ul>
<li><a class="reference internal" href="#section-references" id="id5">Section references</a></li>
<li><a class="reference internal" href="#the-others-directive" id="id6">The &#64;others directive</a></li>
<li><a class="reference internal" href="#the-all-directive" id="id7">The &#64;all directive</a></li>
<li><a class="reference internal" href="#choosing-between-others-and-sections" id="id8">Choosing between &#64;others and sections</a></li>
<li><a class="reference internal" href="#organizing-programs-as-outlines" id="id9">Organizing programs as outlines</a></li>
</ul>
</li>
<li><a class="reference internal" href="#clones-views" id="id10">Clones &amp; views</a></li>
<li><a class="reference internal" href="#more-about-directives" id="id11">More about directives</a></li>
<li><a class="reference internal" href="#scripting-extending-and-customizing-leo" id="id12">Scripting, extending and customizing Leo</a></li>
<li><a class="reference internal" href="#summary" id="id13">Summary</a></li>
<li><a class="reference internal" href="#further-study" id="id14">Further study</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="leo-s-main-window">
<h2><a class="toc-backref" href="#id2">Leo&#8217;s main window</a><a class="headerlink" href="#leo-s-main-window" title="Permalink to this headline">¶</a></h2>
<p id="index-2">Let&#8217;s start looking at Leo in detail. We&#8217;ll start with what you see when you
first open Leo, Leo&#8217;s main window. Leo&#8217;s main window, shown below, represents an
entire project. As you can see, the main window contains three panes: the
<strong>outline pane</strong> at the top left, the <strong>log pane</strong> at the top right, and the
<strong>body pane</strong> at the bottom. The window also contains an <strong>icon area</strong> at the
very top, a <strong>status area</strong> and a <strong>mini-buffer</strong> at the very bottom.</p>
<p id="index-3"><img alt="leoMainWindow" src="_images/leo-qt-main-window.png" /></p>
<p id="index-4">Outline pane</p>
<blockquote>
<div><p>The outline pane shows your project as an outline. The outline
contains all your project&#8217;s data. An outline consists of <strong>nodes</strong>. The
<strong>icon box</strong> is a small icon directly to the left of the headline text.
The border of the icon box is black if the node has been changed.
Smaller icons within the icon box indicate the status of the node:</p>
<div class="highlight-python"><pre>A small blue box:   the node has body text.
A red vertical bar: the node is marked.
A circular arrow:   the node is cloned.</pre>
</div>
<p>If a node contains children, a smaller icon appears to the left of the icon
box. This icon contains a &#8216;+&#8217; or &#8216;-&#8216; symbol. Clicking this <strong>expansion box</strong>
expands or contracts the node.</p>
</div></blockquote>
<p id="index-5">Node</p>
<blockquote>
<div>Each outline node has two two parts, a <strong>headline</strong> and <strong>body text</strong>. The outline pane
shows headlines. Selecting a headline selects the entire node; the node&#8217;s
body text appears in the body pane. Leo uses standard terminology to
describe the relationships of nodes in an outline. We speak of <strong>parent</strong>
nodes, <strong>child</strong> nodes, <strong>ancestor</strong> nodes and <strong>descendant</strong> nodes.</div></blockquote>
<p id="index-6">Body pane</p>
<blockquote>
<div>The body pane contains the body text of the node selected in the
outline pane.</div></blockquote>
<p id="index-7">Log pane</p>
<blockquote>
<div>The log pane contains informational messages from Leo or your scripts.</div></blockquote>
<p id="index-8">Icon area</p>
<blockquote>
<div>Depending on what plugins are enabled, the icon area may contain
buttons and other widgets that extend what Leo can do. The scripting plugin
makes it easy to add buttons to the icon area.</div></blockquote>
<p id="index-9">Status area</p>
<blockquote>
<div>The status area shows the line and column containing the body text&#8217;s cursor,
and the <strong>UNL</strong> (Uniform Node Location), the path from the top of the outline
to the selected node.  This path will change as you change outline nodes.</div></blockquote>
<p id="index-10">Minibuffer</p>
<blockquote>
<div>You can type command and search strings in the minibuffer. It works much
like the Emacs mini-buffer. To enter a command, type &lt;Alt-x&gt; followed by the
command name and then &lt;return&gt;. To type a search string, type &lt;ctrl-f&gt;
followed by the search string and then &lt;return&gt;. For full details, see
<a class="reference external" href="commands.html">Using Leo&#8217;s Commands</a>.</div></blockquote>
</div>
<div class="section" id="external-files-and-file-nodes">
<h2><a class="toc-backref" href="#id3">External files and &#64;file nodes</a><a class="headerlink" href="#external-files-and-file-nodes" title="Permalink to this headline">¶</a></h2>
<p id="index-11">Leo stores outline data on your file system in <strong>.leo files</strong>. The format of
these files is <a class="reference external" href="http://en.wikipedia.org/wiki/XML">XML</a>. You don&#8217;t have to store all your data in .leo files: Leo
allows you to store parts of your outline data <strong>external files</strong>, that is,
other files on your file system.</p>
<p id="index-12"><strong>&#64;file nodes</strong> create external files. &#64;file nodes have headlines starting with
&#64;file followed by a file name. Some examples:</p>
<div class="highlight-python"><pre>@file leoNodes.py
@file ../../notes.text</pre>
</div>
<p id="index-13">The file name can be an absolute path or a relative path to the file that starts
at Leo&#8217;s <strong>load directory</strong>, the directory containing the .leo file.</p>
<p>Leo reads and writes external files automatically when you open or save your Leo
outline:</p>
<ul class="simple">
<li>When you open an outline (.leo file) Leo reads all the external files created
by the &#64;file nodes in the outline. If you have changed an external file
outside of Leo, Leo will update the corresponding &#64;file tree to reflect those
changes when Leo next opens the outline.</li>
</ul>
<ul class="simple" id="index-14">
<li>When you save your outline, Leo writes all <strong>dirty</strong> &#64;file nodes. An &#64;file
is dirty if the node or any of its descendant nodes has changed.
<strong>Important</strong>: When Leo writes an external file, Leo writes all the essential
information in the &#64;file tree to the external file, <em>not</em> to the .leo file.
The only nodes that gets written to the .leo file are nodes that are not
contained in any &#64;file tree.</li>
</ul>
</div>
<div class="section" id="creating-external-files-from-outlines">
<h2><a class="toc-backref" href="#id4">Creating external files from outlines</a><a class="headerlink" href="#creating-external-files-from-outlines" title="Permalink to this headline">¶</a></h2>
<p id="index-15">We come now to one of Leo&#8217;s most important and unusual features. When Leo writes
an external file, it does so in a flexible manner, directed by <strong>outline-based
markup</strong>. This markup tells Leo exactly how to create the external file from an
&#64;file node.</p>
<p id="index-16">The <strong>obvious</strong> way to write an external file would be to write the &#64;file node
itself followed by all the descendant nodes in <strong>outline order</strong> (the order in
which nodes appear in the outline). But Leo does <em>not</em> write external files
exactly this way.</p>
<p id="index-17">Yes, Leo does indeed start by writing the &#64;file node itself. But Leo writes the
&#64;file node&#8217;s descendants only when it sees one of three kinds of Leo
markup: section references, the &#64;others directive and the &#64;all directive.
We&#8217;ll discuss these three kinds of markup in the next section.</p>
<p>Section references and the &#64;others and &#64;all directives tell Leo to write the
<strong>expansion</strong> of one or more descendant nodes to the external file. Programmers
will recognize this process as akin to macro expansion. The following sections
will explain this process in detail.</p>
<div class="section" id="section-references">
<h3><a class="toc-backref" href="#id5">Section references</a><a class="headerlink" href="#section-references" title="Permalink to this headline">¶</a></h3>
<p id="index-18">A <strong>section reference</strong> is a line of body text of the form:</p>
<div class="highlight-python"><pre>&lt;&lt; a section name &gt;&gt;</pre>
</div>
<p id="index-19">Here, &#8220;a section name&#8221; can be any descriptive text not containing &#8220;&gt;&gt;&#8221;. When Leo
encounters a section reference, Leo searches all the descendants of the node
containing the reference looking for a node whose headline matches the section
reference. That is, Leo looks for a descendant node whose headline starts with:</p>
<div class="highlight-python"><pre>&lt;&lt; a section name &gt;&gt;</pre>
</div>
<p id="index-20">We call such nodes <strong>named nodes</strong>. Leo doesn&#8217;t require an exact match. Leo
ignores whitespace and the case of letters when comparing headlines to section
reference. Also, Leo ignores anything that may follow the section name in a
named node. For example, the following headline will match the section reference
above:</p>
<div class="highlight-python"><pre>&lt;&lt; A Section Name &gt;&gt; (to do)</pre>
</div>
<p>If Leo does find a match, Leo <em>replaces</em> the section reference (&#8220;&lt;&lt; a section
name&gt;&gt;&#8221;) by the <em>expansion</em> of the body text of the matched node. That is, Leo
replaces the section reference by the body text of the matched node, but Leo
<strong>expands all markup</strong> in the matched node <em>before</em> making the replacement. The
entire expansion of the matched node replaces the original section reference.
Programmers will recognize this process as recursive macro expansion.</p>
<p>We have just discussed what happens if Leo does find a descendant named node
that matches the section reference. If no such match is found the section
reference is said to be <strong>undefined</strong> and Leo does not write any data to the
external file. This is <em>not</em> a serious error: Leo will will save the erroneous
&#64;&lt;file&gt; tree in the .leo file instead of the external file. No information is
lost. By the way, Leo&#8217;s syntax coloring will indicate undefined section
reference by underlining the section name.</p>
<p><strong>Important</strong>: the indentation of section references matters. When expanding a
section reference, Leo indents every line of the expansion by the leading
whitespace that occurs before the section reference. Note also that you can&#8217;t
write something after a section reference and expect it to end up on the same
line after expansion&#8211;Leo always writes a newline after the expansion.</p>
</div>
<div class="section" id="the-others-directive">
<h3><a class="toc-backref" href="#id6">The &#64;others directive</a><a class="headerlink" href="#the-others-directive" title="Permalink to this headline">¶</a></h3>
<p id="index-21">The <strong>&#64;others directive</strong> is the second (and most common) way of including
descendant nodes in an external files. When Leo encounters the &#64;others
directive it replaces the &#64;others directive by the <em>expansion</em> of all
<strong>unnamed</strong> descendant nodes. As with section references, Leo replaces all
markup in the descendant nodes, and the entire expansion replaces the &#64;others
directive.</p>
<p>In short, section references write <em>named</em> nodes; &#64;others directives write all
<em>unnamed</em> nodes. By the way, no node may contain more than one &#64;others
directive because there would be no way to &#8220;apportion&#8221; descendant nodes to more
than one &#64;others directive. However, nodes may contain as many section
references as you like.</p>
<p>As with section references, the indentation of the &#64;others directive matters.
This allows Leo to handle Python source code properly. For example, the following
is a common way of representing a Python class:</p>
<div class="highlight-python"><pre>class myClass:
    &#x27;&#x27;&#x27;a docstring&#x27;&#x27;&#x27;
    @others</pre>
</div>
<p>When Leo writes this node to an external file, Leo will write the first two
lines to the external file, with the indentation in effect for the node. Leo
will then write all descendant nodes to the external files, with <em>additional</em>
indentation equal to the leading whitespace appearing before the &#64;others
directive.</p>
</div>
<div class="section" id="the-all-directive">
<h3><a class="toc-backref" href="#id7">The &#64;all directive</a><a class="headerlink" href="#the-all-directive" title="Permalink to this headline">¶</a></h3>
<p id="index-22">The &#64;all directive is the third, simplest (and least common) way of including
descendant nodes. This directive causes Leo to write all descendant nodes in
outline order, regardless of whether they are named or not. Furthermore, the
&#64;all directive does not expand any markup in descendant nodes. This results in
Leo writing the external file in the &#8220;obvious&#8221; way. That is, Leo writes all
descendant nodes in outline order.</p>
<p>Use the all directive if your external file contains unrelated nodes. For
example, I use an external file to store programming notes. These notes
typically contain snippets of programming source code, but there is no real
relationships between the snippets&#8211;the file is simply a grab bag of
information. The &#64;all directive is designed for this situation.</p>
</div>
<div class="section" id="choosing-between-others-and-sections">
<h3><a class="toc-backref" href="#id8">Choosing between &#64;others and sections</a><a class="headerlink" href="#choosing-between-others-and-sections" title="Permalink to this headline">¶</a></h3>
<p id="index-23">Newcomers to Leo frequently ask when to use the &#64;others directive and when to
use sections. It is good style to use section references only when the order of
text within a external file matters. For example, Python programmers put
docstrings and imports at the start of files. So the body text of
&#64;file nodes typically look something like this:</p>
<div class="highlight-python"><pre>&lt;&lt; docstring &gt;&gt;
@language python
@tabwidth -4
&lt;&lt; imports &gt;&gt;
@others</pre>
</div>
<p>This ensures that the docstring is first in the file, followed by imports,
followed by everything else. Note that the order in which functions are defined
in a file, or methods defined within a class, typically does <em>not</em> matter. Thus,
it is good style to define classes like this:</p>
<div class="highlight-python"><pre>class myClass:
      &lt;&lt; class attributes &gt;&gt;
      @others</pre>
</div>
<p>It would be bad style to define a class like this:</p>
<div class="highlight-python"><pre>class myClass:
      &lt;&lt; class attributes &gt;&gt;
      &lt;&lt; method 1 &gt;&gt;
      &lt;&lt; method 2 &gt;&gt;
      ...</pre>
</div>
<p>Not only does this over-specify the order in which methods are defined, but it
requires lots of extra typing. Not only must you add a line for each method, but
headlines must contain section names such as &lt;&lt; method 1 &gt;&gt;, &lt;&lt;method 2&gt;&gt;, etc.
When using &#64;others it is good style simply to put the name of each method in the
headline.</p>
</div>
<div class="section" id="organizing-programs-as-outlines">
<h3><a class="toc-backref" href="#id9">Organizing programs as outlines</a><a class="headerlink" href="#organizing-programs-as-outlines" title="Permalink to this headline">¶</a></h3>
<p>A few more words about style:</p>
<ul>
<li><p class="first">It is good style to put each class, function or method in its own node. This
makes it easy to see the shape of your code.</p>
</li>
<li><p class="first">It is good style to use organizer nodes to group related functions or methods.
An organizer node has no content except maybe for comments. Like this:</p>
<div class="highlight-python"><pre>+ myClass
    + birth and death
        + __init__
        etc.
    + getters
        etc.
    + setters
        etc.
    + misc methods
        etc.</pre>
</div>
<p>(In this notation, &#8216;+&#8217; denotes a headline.) This organization is far superior
to using hideous comments like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">###########</span>
<span class="c"># Getters #</span>
<span class="c">###########</span>
</pre></div>
</div>
</li>
<li><p class="first">It is bad style to use &#64;others in organizer nodes. There is no need to do so.</p>
</li>
<li><p class="first">It is bad style to use &#64;others when order does matter. The reason is that it
is very easy to move nodes in a tree by mistake, say by alphabetizing nodes.
One wants to make the meaning of a external file immune from such movements.</p>
</li>
</ul>
<p>One last word about style. The world won&#8217;t end if you happen to use bad style by
mistake: you just might cause a bit more work for yourself than was strictly
necessary. Feel free to invent your own style of using Leo. Still, it would be
wise to &#8220;know the rules before you break them.&#8221;</p>
</div>
</div>
<div class="section" id="clones-views">
<h2><a class="toc-backref" href="#id10">Clones &amp; views</a><a class="headerlink" href="#clones-views" title="Permalink to this headline">¶</a></h2>
<p id="index-24">A <strong>clone</strong> is a node that appears in more than one place in a Leo outline.
Clones are marked with a small red arrow in the icon box. All clones of a node
are actually <em>the same node</em>, so any change to one clone affects all clones. For
example, inserting, moving or deleting any child of a clone will change all
other clones on the screen.</p>
<p>Please take a few moments to experiment with clones. Create a node whose
headline is A. Clone node A using the Clone Node command in Leo&#8217;s Outline menu.
Type some text into the body of either clone of A. The same text appears in the
bodies of all other clones of A. Now insert a node, say B, as a child of any of
the A nodes. All the A nodes now have a B child. See what happens if you clone
B. See what happens if you insert, delete or move nodes that are children of A.
Verify that when you delete the penultimate clone, the last clone becomes a
regular node again.</p>
<p>Clones are much more than a cute feature. Clones allow multiple views of data to
exist <strong>within a single outline</strong>. With Leo, there is no such thing as a single,
&#8220;correct&#8221; view of data. You can have as many views of data as you like.</p>
<p>To create a new view of the data in your outline, just do the following:</p>
<ol class="arabic simple" id="index-25">
<li>Create an <em>ordinary</em> node, that will represent the view. We call these nodes
<strong>view nodes</strong> merely to indicate they represent a view.</li>
<li>Clone all the nodes from the outline that you want the view to contain. Move
these clones so they become children of the view node.</li>
<li>(Optional) You can add regular nodes as children of the view node too.</li>
</ol>
<p id="index-26">For example, when I fix a bug in Leo, I create an ordinary node to represent the
bug. This <strong>bug node</strong> is my view of all the data in Leo&#8217;s source code that
relates to the bug. As I discover code related to the bug, I clone their nodes
and move them under the bug node. I&#8217;ll also add ordinary nodes as children of
the bug node. These nodes contain the original bug report, descriptions of how I
fixed the bug, test data, or any other notes I might want to keep.</p>
<p>Once I have created the bug node, I concentrate <em>only</em> on that node and its
children. I can examine the bug node and its children without having to jump
around the outline. Everything I need is in one place. When I get around to
actually fixing the bug I can do so by changing the clones. Again, I do not have
to jump around the outline. It doesn&#8217;t matter how big or complex the entire
outline is: I am only dealing with the bug node and its children. This extremely
narrow focus makes it <em>much</em> easier to fix bugs.</p>
<p>By the way, I never have to remember to save external files. When I change any
clone, Leo marks all instances of that clone throughout the entire outline as
dirty (changed). When I save the Leo outline, Leo automatically writes all the
external files that contain dirty nodes.</p>
<p>Views have an unlimited number of uses. Use them whenever you want to focus your
attention on some smaller set of nodes. For example, I often create view nodes
when studying other people&#8217;s code. The view node helps me concentrate on just
the part of the code that interests me at the moment.</p>
</div>
<div class="section" id="more-about-directives">
<h2><a class="toc-backref" href="#id11">More about directives</a><a class="headerlink" href="#more-about-directives" title="Permalink to this headline">¶</a></h2>
<p id="index-27">Leo&#8217;s <strong>directives</strong> control such things as syntax coloring, line wrapping
within the body pane and the width of tabs. Leo directives may appear in
headlines or body text. Leo directives start with &#8216;&#64;&#8217;, followed by the name of
the directive.</p>
<p><strong>Note</strong>: Leo handles Python decorators properly, providing they don&#8217;t conflict
with Leo&#8217;s directives.</p>
<p>Here are some of Leo&#8217;s directives:</p>
<div class="highlight-python"><pre>@language python
@tabwidth -4
@wrap
@nowrap
@color
@nocolor
@killcolor</pre>
</div>
<p>Most directives must start with the &#8216;&#64;&#8217; in the leftmost column, but whitespace
may appear before the <a class="reference external" href="mailto:'&#37;&#52;&#48;others">'<span>&#64;</span>others</a>&#8216; and <a class="reference external" href="mailto:'&#37;&#52;&#48;all">'<span>&#64;</span>all</a>&#8216; directives. As we have seen, such
whitespace is significant.</p>
<p>Directives apply until overridden in a subtree. All of these directives apply to
the node they are contained in, and also to the entire tree of descendant nodes,
unless <strong>over-ridden</strong> by a similar directive in a descendant node. For example,
the directive:</p>
<div class="highlight-python"><pre>@language python</pre>
</div>
<p>tells Leo to syntax color the node and all descendant nodes as Python code.
However, some descendant node might contain:</p>
<div class="highlight-python"><pre>@language rest</pre>
</div>
<p>which tells Leo to color that node and all of <em>its</em> descendants as
reStructureText. This principle applies to almost all of Leo&#8217;s directives: the
directive is in effect throughout a tree, unless overridden in some subtree.</p>
<dl class="glossary docutils">
</dl>
<p>&#64;color, &#64;nocolor and &#64;killcolor</p>
<blockquote>
<div>These directives control how Leo colors body text. You can mix &#64;nocolor and
&#64;color directives in a single node. This directives affect descendant
nodes unless a node contains both &#64;color and &#64;color.  Such <strong>ambiguous</strong>
nodes do not affect the coloring of descendant nodes.</div></blockquote>
<p id="index-29">&#64;first</p>
<blockquote>
<div><p>This directive forces a lines to appear before the first sentinel of a
external file. Here is a common way to start a Python file:</p>
<div class="highlight-python"><pre>@first #! /usr/bin/env python
@first # -*- coding: utf-8 -*-</pre>
</div>
</div></blockquote>
<p id="index-30">&#64;language</p>
<blockquote>
<div><p>Sets the language in effect for a tree. This affects how Leo colors body
text. It also sets the comment delimiters used in external files. Leo
supports dozens of languages. See <cite>Leo&#8217;s reference</cite> for a complete list.
Here are a few:</p>
<div class="highlight-python"><pre>@language python
@language c
@language rest # restructured text
@language plain # plain text: no syntax coloring.</pre>
</div>
</div></blockquote>
<p id="index-31">&#64;pagewidth &lt;n&gt;</p>
<blockquote>
<div><p>Sets the page width used to format break doc:</p>
<div class="highlight-python"><pre>@pagewidth 100</pre>
</div>
</div></blockquote>
<p id="index-32">&#64;path &lt;path&gt;</p>
<blockquote>
<div><p>This directive is a convenience.  Rather than specifying long paths
in &#64;file nodes, you can specify a path in an ancestor &#64;path node.
For example, suppose three nodes have the following headlines:</p>
<div class="highlight-python"><pre>@path a
    @path b
        @file c/d.py</pre>
</div>
<p>Because of the ancestor &#64;path nodes, the &#64;file node creates the file
a/b/c/d.py</p>
<p>Within &#64;path and &#64;&lt;file&gt; paths, {{exp}} gets evaluated with the following
symbols known: c, g, p, os and sys.  For example:</p>
<div class="highlight-python"><pre>@file {{os.path.abspath(os.curdir)}}/abc.py</pre>
</div>
<p>refers to the file abc.py in (absolute path of) the current directory.</p>
</div></blockquote>
<p id="index-33">&#64;tabwidth</p>
<blockquote>
<div>Sets the width of tabs. Negative tab widths cause Leo to convert tabs to
spaces and are highly recommended for Python programming.</div></blockquote>
<p id="index-34">&#64;wrap and &#64;nowrap.</p>
<blockquote>
<div>These enable or disable line wrapping the Leo&#8217;s body pane.</div></blockquote>
</div>
<div class="section" id="scripting-extending-and-customizing-leo">
<h2><a class="toc-backref" href="#id12">Scripting, extending and customizing Leo</a><a class="headerlink" href="#scripting-extending-and-customizing-leo" title="Permalink to this headline">¶</a></h2>
<p id="index-35">Leo is fully scriptable using the Python language. Leo can execute any body text
as a Python script. To run the entire body text as a script, simply choose the
node and execute the Execute Script command (Ctrl+B). If text is selected, the
Execute Script command will run just the selected text as the script.</p>
<p>The Execute Script command <strong>preprocesses</strong> the script before executing it, in
exactly the same way that Leo writes external files. Leo expands section
references and processes &#64;others directives before executing the script. This
allows you to use all of Leo&#8217;s outlining capabilities to organize your scripts.</p>
<p>Your Python scripts can easily access data in an outline. Leo&#8217;s execute-script
(Ctrl-B) command predefines three variables, c, g and p, that scripts can use to
easily access any part of any Leo outline, and Leo&#8217;s own source code. For
example, the following script will print all the headlines in an outline:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">all_positions</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="o">*</span><span class="n">p</span><span class="o">.</span><span class="n">level</span><span class="p">(),</span><span class="n">p</span><span class="o">.</span><span class="n">h</span><span class="p">)</span>
</pre></div>
</div>
<p>The example above is only the beginning of what scripts can do.
See <a class="reference external" href="scripting.html">Scripting Leo with Python</a> for a complete discussion of scripting Leo.</p>
<p id="index-36"><strong>Plugins</strong> are Python modules that change how Leo works. Leo&#8217;s user have
contributed dozens of plugins that have extended Leo&#8217;s capabilities in many new
directions. The file leoPlugins.leo contains all plugins that are included in
Leo distributions.</p>
<p id="index-37">Plugins and other parts of Leo can get options from <strong>&#64;settings</strong> trees.
&#64;settings trees allow plugins to get options without any further support from
Leo&#8217;s core code. For a full discussion of &#64;settings trees,
see <a class="reference external" href="customizing.html">Customizing Leo</a>.</p>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id13">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Using Leo quickly becomes second nature:</p>
<ul class="simple">
<li>You can use Leo like any ordinary outliner, as a filing cabinet, but Leo&#8217;s
clones makes this filing cabinet much more flexible and useful than usual.</li>
<li>You create external files using &#64;file trees. Within &#64;file trees, you use
section references and the &#64;others directive to tell Leo how to write nodes
to the external file. Directives such as &#64;tabwidth and &#64;language provide other
information to Leo. Leo&#8217;s &#64;file trees allow you to organize your scripts
and programs with Leo&#8217;s outline structure.</li>
<li>You can execute Python scripts from any node in a Leo outline. Leo scripts
have full, easy, access to all the information in the outline. Using scripts
and plugins, you can easily add new features to Leo.</li>
</ul>
</div>
<div class="section" id="further-study">
<h2><a class="toc-backref" href="#id14">Further study</a><a class="headerlink" href="#further-study" title="Permalink to this headline">¶</a></h2>
<p>LeoPyRef.leo (in the core subdirectory of the leo folder) contains almost all of
Leo&#8217;s source code. It provides hundreds of examples of everything discussed
here. This file will repay close study. For full details on all aspects of Leo
see LeoDocs.leo.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="leo_toc.html">
              <img class="logo" src="_static/Leo4-80-border.jpg" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="installing.html"
                        title="previous chapter">Installing Leo</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="commands.html"
                        title="next chapter">Using Leo</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="commands.html" title="Using Leo"
             >next</a> |</li>
        <li class="right" >
          <a href="installing.html" title="Installing Leo"
             >previous</a> |</li>
        <li><a href="leo_toc.html">Leo 4.9 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Edward K. Ream.
      Last updated on Feb 27, 2013.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>